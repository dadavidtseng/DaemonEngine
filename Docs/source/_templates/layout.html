{% extends "!layout.html" %}

{# è‡ªè¨‚é é¢é ­éƒ¨ #}
{% block extrahead %}
    {{ super() }}
    <link rel="shortcut icon" href="{{ pathto('_static/images/daemon-engine-icon.ico', 1) }}">
    <meta name="description" content="DaemonEngine - A powerful 2D game engine built with C++. Complete documentation and API reference.">
    <meta name="keywords" content="game engine, 2D graphics, C++, rendering, DirectX, FMOD, gaming">
    <meta name="author" content="Yu-Wei Tseng">
    <meta property="og:title" content="{{ title }} - DaemonEngine Documentation">
    <meta property="og:description" content="Complete documentation for DaemonEngine, a modern 2D game engine.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="{{ pathto('_static/images/daemon-engine-logo.svg', 1) }}">
    
    {# Google Analytics æˆ–å…¶ä»–è¿½è¹¤ä»£ç¢¼å¯ä»¥æ”¾åœ¨é€™è£¡ #}
    
    <style>
        /* å¿«é€Ÿè¼‰å…¥æ™‚çš„æ¨£å¼å„ªåŒ– */
        .wy-nav-content {
            background: #fcfcfc;
        }
    </style>
{% endblock %}

{# è‡ªè¨‚å°èˆªæ¬„ #}
{% block document %}
    {# æ·»åŠ ç‰ˆæœ¬è³‡è¨Šæ©«å¹… #}
    {% if show_version_warning %}
    <div class="version-warning" style="background: #f39c12; color: white; padding: 10px; text-align: center; font-weight: bold;">
        âš ï¸ You are viewing documentation for DaemonEngine {{ version }}. This is a development version.
    </div>
    {% endif %}
    
    {{ super() }}
{% endblock %}

{# è‡ªè¨‚å´é‚Šæ¬„å…§å®¹ #}
{% block sidebartoc %}
    {{ super() }}
    
    {# æ·»åŠ å¿«é€Ÿé€£çµå€å¡Š #}
    <div class="sidebar-section" style="padding: 15px; margin: 10px 0; background: #f8f9fa; border-radius: 4px;">
        <h4 style="margin-top: 0; color: #2c3e50;">ğŸ”— Quick Links</h4>
        <ul style="list-style: none; padding: 0; margin: 0;">
            <li style="margin: 5px 0;">
                <a href="https://github.com/dadavidtseng/DaemonEngine" target="_blank" style="color: #3498db;">
                    ğŸ“ Source Code
                </a>
            </li>
            <li style="margin: 5px 0;">
                <a href="{{ pathto('api/index') }}" style="color: #3498db;">
                    ğŸ“– API Reference
                </a>
            </li>
            <li style="margin: 5px 0;">
                <a href="{{ pathto('getting-started/index') }}" style="color: #3498db;">
                    ğŸš€ Getting Started
                </a>
            </li>
        </ul>
    </div>
    
    {# æ·»åŠ ç‰ˆæœ¬é¸æ“‡å™¨ #}
    <div class="sidebar-section" style="padding: 15px; margin: 10px 0; background: #e8f4fd; border-radius: 4px;">
        <h4 style="margin-top: 0; color: #2c3e50;">ğŸ“‹ Version</h4>
        <p style="margin: 0; font-size: 0.9em; color: #666;">
            Current: <strong>{{ version }}</strong><br>
            Released: <strong>{{ release_date or "Latest" }}</strong>
        </p>
    </div>
{% endblock %}

{# è‡ªè¨‚é è…³ #}
{% block footer %}
    {{ super() }}
    <div class="footer-custom">
        <div style="max-width: 1200px; margin: 0 auto; padding: 0 20px;">
            <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 20px;">
                <div>
                    <p style="margin: 0; display: flex; align-items: center; gap: 8px;">
                        Built with â¤ï¸ by Yu-Wei Tseng | 
                        <a href="https://github.com/dadavidtseng/DaemonEngine" target="_blank" style="color: #3498db;">
                            DaemonEngine on GitHub
                        </a>
                    </p>
                </div>
                <div style="font-size: 0.85em; color: #95a5a6;">
                    Documentation generated on {{ build_date or "recent" }}
                </div>
            </div>
        </div>
    </div>
    
    {# æ·»åŠ è‡ªè¨‚ JavaScript #}
    <script>
        // è¨­å®šå…¨åŸŸè®Šæ•¸ä¾›è‡ªè¨‚ JS ä½¿ç”¨
        window.DAEMON_ENGINE_CONFIG = {
            version: '{{ version }}',
            project: '{{ project }}',
            basePath: '{{ pathto("", 1) }}'
        };
    </script>
{% endblock %}